<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="{{ url_for('static', path='./assets/favicon.png') }}"
    />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet"
    />
    <!-- MDB -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/8.1.0/mdb.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', path='./css/style.css') }}"
    />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <title>{{ title }}</title>
  </head>
  <body>
    <header>
      <div class="d-flex flex-row logo-app">
        <img
          src="{{ url_for('static', path='./assets/weather-icon.ico') }}"
          alt="Weather App"
          class="logo"
          style="align-self: center"
        />
        <h1 class="fs-3 font-monospace">Weather APP</h1>
      </div>
      <div class="form-input-location">
        <form action="{{ url_for("get_weather") }}" method="post"
        class="weather-form">
        <!-- <div class="form-floating"> -->
        <div class="form-outline d-flex flex-row input-location">
          <select
            name="location"
            id="location"
            class="form-select font-monospace"
          >
            <option value="" disabled selected>Search for cities</option>
            {% for location in locations %}
            <option value="{{ location }}">{{ location }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="date-botao">
          <div class="input-dates">
            <div class="d-flex flex-row input-data-inicial">
              <label for="start_date">Start date:</label>
              <input
                type="date"
                id="start_date"
                name="start_date"
                value="{{ start_date }}"
                class="form-input font-monospace"
              />
            </div>
            <div class="d-flex flex-row input-data-final">
              <label for="final_date">Final date:</label>
              <input
                type="date"
                id="final_date"
                name="final_date"
                value="{{ final_date }}"
                class="form-input font-monospace"
              />
            </div>
          </div>
          <div class="d-flex botao-form">
            <button
              id="get-forecast-button"
              class="btn btn-primary btn-rounded font-monospace"
            >
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
      </div>
    </header>
    <main>{% block content %}{% endblock %}</main>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/8.1.0/mdb.umd.min.js"
    ></script>
    <script>
      var graphJSON = {{ graph_json | safe }};
      Plotly.newPlot('chart', graphJSON.data, graphJSON.layout);
    </script>
  </body>
</html>
